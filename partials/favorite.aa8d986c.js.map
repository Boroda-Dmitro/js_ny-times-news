{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-7b06d70bb155c823.js","src/js/favoritePage.js","src/js/onFavouritePageCardClick.js","node_modules/@parcel/runtime-js/lib/runtime-ecebf5e24a174b51.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3PGjW\\\":\\\"favorite.aa8d986c.js\\\",\\\"bLbsu\\\":\\\"image.a1e54c9b.png\\\",\\\"1tUMT\\\":\\\"read.7d4697e4.js\\\"}\"));","import moment from 'moment';\nimport { createPopularCardMarkup } from './createPopularCardMarkup';\nimport { onFavouritePageCardClick } from './onFavouritePageCardClick';\nimport { createSeachCardMarkup } from './createSeachCardMarkup';\nimport { LOCAL_STORAGE_POPULAR_FAVOURITE_KEY } from './createHomePageNews';\nimport { LOCAL_STORAGE_POPULAR_READ_KEY } from './createHomePageNews';\nimport { LOCAL_STORAGE_INPUT_SEARCH_READ_KEY } from './createHomePageSeachingNews';\nimport { LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY } from './createHomePageSeachingNews';\nimport img from '../images/image.png';\n\nconst picture = document.querySelector('.default-picture');\nconst homePageNews = document.querySelector('.news__box');\n\nlet parsedPopularArray = [];\nlet parsedSeachArray = [];\n\ncreateFavoritePageMarkup();\ntest();\n\nfunction test() {\n  document.querySelectorAll('.markup-unit__add-favorite').forEach(el => {\n    el.innerHTML = `<p class=\"markup-unit__favorite-text\">Remove from favorite</p>\n                    <svg class=\"markup-unit__favorite-icon markup-unit__favorite-icon--active\" width=\"16\" height=\"16\" viewBox=\"0 0 32 32\">\n                  <path d=\"M9.334 4c-3.682 0-6.668 2.954-6.668 6.6 0 2.942 1.168 9.926 12.652 16.986 0.194 0.12 0.43 0.191 0.682 0.191s0.488-0.071 0.688-0.194l-0.006 0.003c11.484-7.060 12.652-14.044 12.652-16.986 0-3.646-2.986-6.6-6.668-6.6-3.68 0-6.666 4-6.666 4s-2.986-4-6.666-4z\"></path>\n</svg>`;\n    el.addEventListener('click', e => {\n      const popularData = localStorage.getItem(\n        LOCAL_STORAGE_POPULAR_FAVOURITE_KEY\n      );\n      const inputSearch = localStorage.getItem(\n        LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY\n      );\n\n      if (popularData && !inputSearch) {\n        parsedPopularArray = [...JSON.parse(popularData)];\n\n        const index = parsedPopularArray.findIndex(\n          element => element.title === el.nextElementSibling.innerHTML\n        );\n\n        if (index === -1) {\n          return;\n        } else {\n          parsedPopularArray.splice(index, 1);\n          if (parsedPopularArray.length === 0) {\n            localStorage.removeItem(LOCAL_STORAGE_POPULAR_FAVOURITE_KEY);\n            homePageNews.innerHTML = '';\n            picture.classList.remove('visually-hidden');\n          } else {\n            localStorage.setItem(\n              LOCAL_STORAGE_POPULAR_FAVOURITE_KEY,\n              JSON.stringify(parsedPopularArray)\n            );\n            homePageNews.innerHTML = '';\n            createFavoritePageMarkup();\n            return test();\n          }\n        }\n      } else if (inputSearch && !popularData) {\n        parsedPopularArray = [...JSON.parse(inputSearch)];\n\n        const index = parsedPopularArray.findIndex(\n          element => element.headline.main === el.nextElementSibling.innerHTML\n        );\n\n        if (index === -1) {\n          return;\n        } else {\n          parsedPopularArray.splice(index, 1);\n          if (parsedPopularArray.length === 0) {\n            localStorage.removeItem(LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY);\n            homePageNews.innerHTML = '';\n            picture.classList.remove('visually-hidden');\n          } else {\n            localStorage.setItem(\n              LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY,\n              JSON.stringify(parsedPopularArray)\n            );\n            homePageNews.innerHTML = '';\n            createFavoritePageMarkup();\n            return test();\n          }\n        }\n      } else if (popularData && inputSearch) {\n        parsedPopularArray = [...JSON.parse(popularData)];\n        let parsedArray = [...JSON.parse(inputSearch)];\n        const index = parsedPopularArray.findIndex(\n          element => element.title === el.nextElementSibling.innerHTML\n        );\n\n        if (index === -1) {\n          const index2 = parsedArray.findIndex(\n            element => element.headline.main === el.nextElementSibling.innerHTML\n          );\n          parsedArray.splice(index2, 1);\n          if (parsedArray.length === 0) {\n            localStorage.removeItem(LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY);\n            homePageNews.innerHTML = '';\n            picture.classList.remove('visually-hidden');\n            createFavoritePageMarkup();\n            return test();\n          } else {\n            localStorage.setItem(\n              LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY,\n              JSON.stringify(parsedArray)\n            );\n            homePageNews.innerHTML = '';\n            createFavoritePageMarkup();\n            return test();\n          }\n        } else {\n          parsedPopularArray.splice(index, 1);\n          if (parsedPopularArray.length === 0) {\n            localStorage.removeItem(LOCAL_STORAGE_POPULAR_FAVOURITE_KEY);\n            homePageNews.innerHTML = '';\n            picture.classList.remove('visually-hidden');\n            createFavoritePageMarkup();\n            return test();\n          } else {\n            localStorage.setItem(\n              LOCAL_STORAGE_POPULAR_FAVOURITE_KEY,\n              JSON.stringify(parsedPopularArray)\n            );\n            homePageNews.innerHTML = '';\n            createFavoritePageMarkup();\n            return test();\n          }\n        }\n      }\n    });\n  });\n}\n\nfunction createFavoritePageMarkup() {\n  const popularData = localStorage.getItem(LOCAL_STORAGE_POPULAR_FAVOURITE_KEY);\n  const inputSearch = localStorage.getItem(\n    LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY\n  );\n\n  if (popularData === null && inputSearch === null) {\n    picture.classList.remove('visually-hidden');\n    return;\n  }\n\n  if (popularData) {\n    parsedPopularArray = [...JSON.parse(popularData)];\n    parsedPopularArray.map((news, index) => {\n      const publishedDate = moment(news.published_date).format('YY/MM/YYYY');\n      const readMoreId = `${index}`;\n      let imgUrl = img;\n      let altText = 'No text';\n      if (news.media.length !== 0) {\n        imgUrl = `${news.media[0]['media-metadata'][2].url}`;\n        altText = `${news.media[0].caption}`;\n      }\n\n      createPopularCardMarkup(\n        news,\n        publishedDate,\n        readMoreId,\n        homePageNews,\n        'beforeend',\n        imgUrl,\n        altText\n      );\n\n      onFavouritePageCardClick(\n        readMoreId,\n        news,\n        LOCAL_STORAGE_POPULAR_READ_KEY\n      );\n\n      picture.classList.add('visually-hidden');\n    });\n  }\n  if (inputSearch) {\n    parsedSeachArray = [...JSON.parse(inputSearch)];\n    parsedSeachArray.map((news, index) => {\n      const publishedDate = moment(news.pub_date).format('YY/MM/YYYY');\n      let imgUrl = './images/desktop-no-news-601.png';\n      if (news.multimedia.length > 0) {\n        imgUrl = `http://www.nytimes.com/${news.multimedia[0].url}`;\n      }\n      const readMoreId = `${index}`;\n      createSeachCardMarkup(\n        news,\n        publishedDate,\n        readMoreId,\n        imgUrl,\n        homePageNews,\n        'beforeend'\n      );\n      onFavouritePageCardClick(\n        readMoreId,\n        news,\n        LOCAL_STORAGE_INPUT_SEARCH_READ_KEY\n      );\n      picture.classList.add('visually-hidden');\n    });\n  }\n}\n\ndocument.querySelectorAll('.markup-unit__section').forEach(el => {\n  if (el.textContent === '') {\n    el.style.display = 'none';\n  }\n});\n\nconst searchBtn = document.querySelector('.search-button svg');\nconst input = document.querySelector('.search-input');\n\nsearchBtn.addEventListener('click', searchInFavorite);\n\ndocument.addEventListener('keydown', e => {\n  if (e.code !== 'Enter') {\n    return;\n  }\n  searchInFavorite();\n  test();\n});\n\nfunction searchInFavorite() {\n  const popularData = localStorage.getItem(LOCAL_STORAGE_POPULAR_FAVOURITE_KEY);\n  const inputSearch = localStorage.getItem(\n    LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY\n  );\n  const searchOnPopularArr = [];\n  const searchOnSearchArr = [];\n\n  if (popularData === null && inputSearch === null) {\n    picture.classList.remove('visually-hidden');\n    return;\n  }\n\n  if (popularData) {\n    parsedPopularArray = [...JSON.parse(popularData)];\n    parsedPopularArray.map(news => {\n      if (news.abstract.includes(input.value)) {\n        searchOnPopularArr.push(news);\n      }\n    });\n  }\n\n  if (inputSearch) {\n    parsedSeachArray = [...JSON.parse(inputSearch)];\n    parsedSeachArray.map(news => {\n      if (news.abstract.includes(input.value)) {\n        searchOnSearchArr.push(news);\n      }\n    });\n  }\n\n  if (searchOnPopularArr.length > 0 || searchOnSearchArr.length > 0) {\n    homePageNews.innerHTML = '';\n  } else {\n    homePageNews.innerHTML = '';\n    picture.classList.remove('visually-hidden');\n    return;\n  }\n\n  if (searchOnSearchArr.length > 0) {\n    searchOnSearchArr.map((news, index) => {\n      const publishedDate = moment(news.pub_date).format('YY/MM/YYYY');\n      let imgUrl = './images/desktop-no-news-601.png';\n      if (news.multimedia.length > 0) {\n        imgUrl = `http://www.nytimes.com/${news.multimedia[0].url}`;\n      }\n      const readMoreId = `${index}`;\n      createSeachCardMarkup(\n        news,\n        publishedDate,\n        readMoreId,\n        imgUrl,\n        homePageNews,\n        'beforeend'\n      );\n      onFavouritePageCardClick(\n        readMoreId,\n        news,\n        LOCAL_STORAGE_INPUT_SEARCH_READ_KEY\n      );\n    });\n  }\n\n  if (searchOnPopularArr.length > 0) {\n    searchOnPopularArr.map((news, index) => {\n      const publishedDate = moment(news.published_date).format('YY/MM/YYYY');\n      const readMoreId = `${index}`;\n      let imgUrl = img;\n      let altText = 'No text';\n      if (news.media.length !== 0) {\n        imgUrl = `${news.media[0]['media-metadata'][2].url}`;\n        altText = `${news.media[0].caption}`;\n      }\n\n      createPopularCardMarkup(\n        news,\n        publishedDate,\n        readMoreId,\n        homePageNews,\n        'beforeend',\n        imgUrl,\n        altText\n      );\n\n      onFavouritePageCardClick(\n        readMoreId,\n        news,\n        LOCAL_STORAGE_POPULAR_READ_KEY\n      );\n\n      picture.classList.add('visually-hidden');\n    });\n  }\n\n  input.value = '';\n}\n","import { addNewsToLocalStorage } from './addNewsToLocalStorage';\n\nexport function onFavouritePageCardClick(value, news, key) {\n  document\n    .querySelector(`[data-id = \"${value}\"]`)\n    .addEventListener('click', e => {\n      if (e.target.nodeName === 'A') {\n        addNewsToLocalStorage(news, key);\n      }\n    });\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('3PGjW') + \"../\" + require('./helpers/bundle-manifest').resolve(\"bLbsu\");"],"names":["parcelRequire","register","JSON","parse","$8nrFW","$2XNBT","$663bfc46fa7e8bdc$export$16aae63b3b9c9e27","value","news","key","document","querySelector","concat","addEventListener","e","target","nodeName","addNewsToLocalStorage","$94c28eb9d1b24305$exports","getBundleURL","resolve","$28cb32b6a4cb5631$var$picture","$28cb32b6a4cb5631$var$homePageNews","$28cb32b6a4cb5631$var$parsedPopularArray","$28cb32b6a4cb5631$var$test","querySelectorAll","forEach","el","innerHTML","popularData","localStorage","getItem","$kN5pd","LOCAL_STORAGE_POPULAR_FAVOURITE_KEY","inputSearch","$aKAgX","LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY","index","$parcel$interopDefault","findIndex","element","title","nextElementSibling","splice","length","setItem","stringify","$28cb32b6a4cb5631$var$createFavoritePageMarkup","removeItem","classList","remove","index1","headline","main","parsedArray","index2","index21","map","publishedDate","$jR9u2","published_date","format","readMoreId","imgUrl","altText","media","url","caption","$gzPrx","createPopularCardMarkup","LOCAL_STORAGE_POPULAR_READ_KEY","add","pub_date","multimedia","$aDOrX","createSeachCardMarkup","LOCAL_STORAGE_INPUT_SEARCH_READ_KEY","textContent","style","display","$28cb32b6a4cb5631$var$searchBtn","$28cb32b6a4cb5631$var$input","$28cb32b6a4cb5631$var$searchInFavorite","searchOnPopularArr","searchOnSearchArr","abstract","includes","push","code"],"version":3,"file":"favorite.aa8d986c.js.map"}