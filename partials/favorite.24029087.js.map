{"mappings":"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","sources":["src/js/favoritePage.js","src/js/onFavouritePageCardClick.js"],"sourcesContent":["// import moment from 'moment';\n\n// import { onFavouritePageCardClick } from './onFavouritePageCardClick';\n// import { createPopularCardMarkup } from './createPopularCardMarkup';\n// import { createSeachCardMarkup } from './createSeachCardMarkup';\n// import { LOCAL_STORAGE_POPULAR_FAVOURITE_KEY } from './createHomePageNews';\n// import { LOCAL_STORAGE_POPULAR_READ_KEY } from './createHomePageNews';\n// import { LOCAL_STORAGE_INPUT_SEARCH_READ_KEY } from './createHomePageSeachingNews';\n// import { LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY } from './createHomePageSeachingNews';\n\n// const picture = document.querySelector('.default-picture');\n// const homePageNews = document.querySelector('.news__box');\n\n// let parsedPopularArray = [];\n// let parsedSeachArray = [];\n\n// createFavoritePageMarkup();\n// test();\n\n// function test() {\n//   document.querySelectorAll('.markup-unit__add-favorite').forEach(el => {\n//     el.classList.add('active');\n//     el.innerHTML = `<p class=\"markup-unit__favorite-text\">Remove from favorite</p>\n//                     <svg class=\"markup-unit__favorite-icon markup-unit__favorite-icon--active\" width=\"16\" height=\"16\" viewBox=\"0 0 32 32\">\n//                   <path d=\"M9.334 4c-3.682 0-6.668 2.954-6.668 6.6 0 2.942 1.168 9.926 12.652 16.986 0.194 0.12 0.43 0.191 0.682 0.191s0.488-0.071 0.688-0.194l-0.006 0.003c11.484-7.060 12.652-14.044 12.652-16.986 0-3.646-2.986-6.6-6.668-6.6-3.68 0-6.666 4-6.666 4s-2.986-4-6.666-4z\"></path>\n// </svg>`;\n//     el.addEventListener('click', e => {\n//       const popularData = localStorage.getItem(\n//         LOCAL_STORAGE_POPULAR_FAVOURITE_KEY\n//       );\n//       const inputSearch = localStorage.getItem(\n//         LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY\n//       );\n\n//       if (popularData && !inputSearch) {\n//         parsedPopularArray = [...JSON.parse(popularData)];\n\n//         const index = parsedPopularArray.findIndex(\n//           element => element.title === el.nextElementSibling.innerHTML\n//         );\n\n//         if (index === -1) {\n//           return;\n//         } else {\n//           parsedPopularArray.splice(index, 1);\n//           if (parsedPopularArray.length === 0) {\n//             localStorage.removeItem(LOCAL_STORAGE_POPULAR_FAVOURITE_KEY);\n//             homePageNews.innerHTML = '';\n//             picture.classList.remove('visually-hidden');\n//           } else {\n//             localStorage.setItem(\n//               LOCAL_STORAGE_POPULAR_FAVOURITE_KEY,\n//               JSON.stringify(parsedPopularArray)\n//             );\n//             homePageNews.innerHTML = '';\n//             createFavoritePageMarkup();\n//             return test();\n//           }\n//         }\n//       } else if (inputSearch && !popularData) {\n//         parsedPopularArray = [...JSON.parse(inputSearch)];\n\n//         const index = parsedPopularArray.findIndex(\n//           element => element.headline.main === el.nextElementSibling.innerHTML\n//         );\n\n//         if (index === -1) {\n//           return;\n//         } else {\n//           parsedPopularArray.splice(index, 1);\n//           if (parsedPopularArray.length === 0) {\n//             localStorage.removeItem(LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY);\n//             homePageNews.innerHTML = '';\n//             picture.classList.remove('visually-hidden');\n//           } else {\n//             localStorage.setItem(\n//               LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY,\n//               JSON.stringify(parsedPopularArray)\n//             );\n//             homePageNews.innerHTML = '';\n//             createFavoritePageMarkup();\n//             return test();\n//           }\n//         }\n//       } else if (popularData && inputSearch) {\n//         parsedPopularArray = [...JSON.parse(popularData)];\n//         let parsedArray = [...JSON.parse(inputSearch)];\n//         const index = parsedPopularArray.findIndex(\n//           element => element.title === el.nextElementSibling.innerHTML\n//         );\n\n//         if (index === -1) {\n//           const index2 = parsedArray.findIndex(\n//             element => element.headline.main === el.nextElementSibling.innerHTML\n//           );\n//           parsedArray.splice(index2, 1);\n//           if (parsedArray.length === 0) {\n//             localStorage.removeItem(LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY);\n//             homePageNews.innerHTML = '';\n//             picture.classList.remove('visually-hidden');\n//             createFavoritePageMarkup();\n//             return test();\n//           } else {\n//             localStorage.setItem(\n//               LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY,\n//               JSON.stringify(parsedArray)\n//             );\n//             homePageNews.innerHTML = '';\n//             createFavoritePageMarkup();\n//             return test();\n//           }\n//         } else {\n//           parsedPopularArray.splice(index, 1);\n//           if (parsedPopularArray.length === 0) {\n//             localStorage.removeItem(LOCAL_STORAGE_POPULAR_FAVOURITE_KEY);\n//             homePageNews.innerHTML = '';\n//             picture.classList.remove('visually-hidden');\n//             createFavoritePageMarkup();\n//             return test();\n//           } else {\n//             localStorage.setItem(\n//               LOCAL_STORAGE_POPULAR_FAVOURITE_KEY,\n//               JSON.stringify(parsedPopularArray)\n//             );\n//             homePageNews.innerHTML = '';\n//             createFavoritePageMarkup();\n//             return test();\n//           }\n//         }\n//       }\n//     });\n//   });\n// }\n\n// function createFavoritePageMarkup() {\n//   const popularData = localStorage.getItem(LOCAL_STORAGE_POPULAR_FAVOURITE_KEY);\n//   const inputSearch = localStorage.getItem(\n//     LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY\n//   );\n\n//   if (popularData === null && inputSearch === null) {\n//     picture.classList.remove('visually-hidden');\n//     return;\n//   }\n\n//   if (popularData) {\n//     parsedPopularArray = [...JSON.parse(popularData)];\n//     parsedPopularArray.map((news, index) => {\n//       const publishedDate = moment(news.published_date).format('YY/MM/YYYY');\n//       const readMoreId = `${index}`;\n\n//       createPopularCardMarkup(\n//         news,\n//         publishedDate,\n//         readMoreId,\n//         homePageNews,\n//         'beforeend'\n//       );\n\n//       onFavouritePageCardClick(\n//         readMoreId,\n//         news,\n//         LOCAL_STORAGE_POPULAR_READ_KEY\n//       );\n\n//       picture.classList.add('visually-hidden');\n//     });\n//   }\n//   if (inputSearch) {\n//     parsedSeachArray = [...JSON.parse(inputSearch)];\n//     parsedSeachArray.map((news, index) => {\n//       const publishedDate = moment(news.pub_date).format('YY/MM/YYYY');\n//       let imgUrl = './images/desktop-no-news-601.png';\n//       if (news.multimedia.length > 0) {\n//         imgUrl = `http://www.nytimes.com/${news.multimedia[0].url}`;\n//       }\n//       const readMoreId = `${index}`;\n//       createSeachCardMarkup(\n//         news,\n//         publishedDate,\n//         readMoreId,\n//         imgUrl,\n//         homePageNews,\n//         'beforeend'\n//       );\n//       onFavouritePageCardClick(\n//         readMoreId,\n//         news,\n//         LOCAL_STORAGE_INPUT_SEARCH_READ_KEY\n//       );\n//     });\n//   }\n// }\n\nimport moment from 'moment';\n\nimport { createPopularCardMarkup } from './createPopularCardMarkup';\nimport { onFavouritePageCardClick } from './onFavouritePageCardClick';\nimport { createSeachCardMarkup } from './createSeachCardMarkup';\nimport { LOCAL_STORAGE_POPULAR_FAVOURITE_KEY } from './createHomePageNews';\nimport { LOCAL_STORAGE_POPULAR_READ_KEY } from './createHomePageNews';\nimport { LOCAL_STORAGE_INPUT_SEARCH_READ_KEY } from './createHomePageSeachingNews';\nimport { LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY } from './createHomePageSeachingNews';\n\nconst picture = document.querySelector('.default-picture');\nconst homePageNews = document.querySelector('.news__box');\n\nlet parsedPopularArray = [];\nlet parsedSeachArray = [];\n\ncreateFavoritePageMarkup();\ntest();\n\nfunction test() {\n  document.querySelectorAll('.markup-unit__add-favorite').forEach(el => {\n    el.innerHTML = `<p class=\"markup-unit__favorite-text\">Remove from favorite</p>\n                    <svg class=\"markup-unit__favorite-icon markup-unit__favorite-icon--active\" width=\"16\" height=\"16\" viewBox=\"0 0 32 32\">\n                  <path d=\"M9.334 4c-3.682 0-6.668 2.954-6.668 6.6 0 2.942 1.168 9.926 12.652 16.986 0.194 0.12 0.43 0.191 0.682 0.191s0.488-0.071 0.688-0.194l-0.006 0.003c11.484-7.060 12.652-14.044 12.652-16.986 0-3.646-2.986-6.6-6.668-6.6-3.68 0-6.666 4-6.666 4s-2.986-4-6.666-4z\"></path>\n</svg>`;\n    el.addEventListener('click', e => {\n      const popularData = localStorage.getItem(\n        LOCAL_STORAGE_POPULAR_FAVOURITE_KEY\n      );\n      const inputSearch = localStorage.getItem(\n        LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY\n      );\n\n      if (popularData && !inputSearch) {\n        parsedPopularArray = [...JSON.parse(popularData)];\n\n        const index = parsedPopularArray.findIndex(\n          element => element.title === el.nextElementSibling.innerHTML\n        );\n\n        if (index === -1) {\n          return;\n        } else {\n          parsedPopularArray.splice(index, 1);\n          if (parsedPopularArray.length === 0) {\n            localStorage.removeItem(LOCAL_STORAGE_POPULAR_FAVOURITE_KEY);\n            homePageNews.innerHTML = '';\n            picture.classList.remove('visually-hidden');\n          } else {\n            localStorage.setItem(\n              LOCAL_STORAGE_POPULAR_FAVOURITE_KEY,\n              JSON.stringify(parsedPopularArray)\n            );\n            homePageNews.innerHTML = '';\n            createFavoritePageMarkup();\n            return test();\n          }\n        }\n      } else if (inputSearch && !popularData) {\n        parsedPopularArray = [...JSON.parse(inputSearch)];\n\n        const index = parsedPopularArray.findIndex(\n          element => element.headline.main === el.nextElementSibling.innerHTML\n        );\n\n        if (index === -1) {\n          return;\n        } else {\n          parsedPopularArray.splice(index, 1);\n          if (parsedPopularArray.length === 0) {\n            localStorage.removeItem(LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY);\n            homePageNews.innerHTML = '';\n            picture.classList.remove('visually-hidden');\n          } else {\n            localStorage.setItem(\n              LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY,\n              JSON.stringify(parsedPopularArray)\n            );\n            homePageNews.innerHTML = '';\n            createFavoritePageMarkup();\n            return test();\n          }\n        }\n      } else if (popularData && inputSearch) {\n        parsedPopularArray = [...JSON.parse(popularData)];\n        let parsedArray = [...JSON.parse(inputSearch)];\n        const index = parsedPopularArray.findIndex(\n          element => element.title === el.nextElementSibling.innerHTML\n        );\n\n        if (index === -1) {\n          const index2 = parsedArray.findIndex(\n            element => element.headline.main === el.nextElementSibling.innerHTML\n          );\n          parsedArray.splice(index2, 1);\n          if (parsedArray.length === 0) {\n            localStorage.removeItem(LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY);\n            homePageNews.innerHTML = '';\n            picture.classList.remove('visually-hidden');\n            createFavoritePageMarkup();\n            return test();\n          } else {\n            localStorage.setItem(\n              LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY,\n              JSON.stringify(parsedArray)\n            );\n            homePageNews.innerHTML = '';\n            createFavoritePageMarkup();\n            return test();\n          }\n        } else {\n          parsedPopularArray.splice(index, 1);\n          if (parsedPopularArray.length === 0) {\n            localStorage.removeItem(LOCAL_STORAGE_POPULAR_FAVOURITE_KEY);\n            homePageNews.innerHTML = '';\n            picture.classList.remove('visually-hidden');\n            createFavoritePageMarkup();\n            return test();\n          } else {\n            localStorage.setItem(\n              LOCAL_STORAGE_POPULAR_FAVOURITE_KEY,\n              JSON.stringify(parsedPopularArray)\n            );\n            homePageNews.innerHTML = '';\n            createFavoritePageMarkup();\n            return test();\n          }\n        }\n      }\n    });\n  });\n}\n\nfunction createFavoritePageMarkup() {\n  const popularData = localStorage.getItem(LOCAL_STORAGE_POPULAR_FAVOURITE_KEY);\n  const inputSearch = localStorage.getItem(\n    LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY\n  );\n\n  if (popularData === null && inputSearch === null) {\n    picture.classList.remove('visually-hidden');\n    return;\n  }\n\n  if (popularData) {\n    parsedPopularArray = [...JSON.parse(popularData)];\n    parsedPopularArray.map((news, index) => {\n      const publishedDate = moment(news.published_date).format('YY/MM/YYYY');\n      const readMoreId = `${index}`;\n\n      createPopularCardMarkup(\n        news,\n        publishedDate,\n        readMoreId,\n        homePageNews,\n        'beforeend'\n      );\n\n      onFavouritePageCardClick(\n        readMoreId,\n        news,\n        LOCAL_STORAGE_POPULAR_READ_KEY\n      );\n\n      picture.classList.add('visually-hidden');\n    });\n  }\n  if (inputSearch) {\n    parsedSeachArray = [...JSON.parse(inputSearch)];\n    parsedSeachArray.map((news, index) => {\n      const publishedDate = moment(news.pub_date).format('YY/MM/YYYY');\n      let imgUrl = './images/desktop-no-news-601.png';\n      if (news.multimedia.length > 0) {\n        imgUrl = `http://www.nytimes.com/${news.multimedia[0].url}`;\n      }\n      const readMoreId = `${index}`;\n      createSeachCardMarkup(\n        news,\n        publishedDate,\n        readMoreId,\n        imgUrl,\n        homePageNews,\n        'beforeend'\n      );\n      onFavouritePageCardClick(\n        readMoreId,\n        news,\n        LOCAL_STORAGE_INPUT_SEARCH_READ_KEY\n      );\n    });\n  }\n}\n\nconst searchBtn = document.querySelector('.search-button svg');\nconst input = document.querySelector('.search-input');\n\nsearchBtn.addEventListener('click', searchInFavorite);\n\ndocument.addEventListener('keydown', e => {\n  if (e.code !== 'Enter') {\n    return;\n  }\n  searchInFavorite();\n  test();\n});\n\nfunction searchInFavorite() {\n  const popularData = localStorage.getItem(LOCAL_STORAGE_POPULAR_FAVOURITE_KEY);\n  const inputSearch = localStorage.getItem(\n    LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY\n  );\n  const searchOnPopularArr = [];\n  const searchOnSearchArr = [];\n\n  if (popularData === null && inputSearch === null) {\n    picture.classList.remove('visually-hidden');\n    return;\n  }\n\n  if (popularData) {\n    parsedPopularArray = [...JSON.parse(popularData)];\n    parsedPopularArray.map(news => {\n      if (news.abstract.includes(input.value)) {\n        searchOnPopularArr.push(news);\n      }\n    });\n  }\n\n  if (inputSearch) {\n    parsedSeachArray = [...JSON.parse(inputSearch)];\n    parsedSeachArray.map(news => {\n      if (news.abstract.includes(input.value)) {\n        searchOnSearchArr.push(news);\n      }\n    });\n  }\n\n  if (searchOnPopularArr.length > 0 || searchOnSearchArr.length > 0) {\n    homePageNews.innerHTML = '';\n  } else {\n    homePageNews.innerHTML = '';\n    picture.classList.remove('visually-hidden');\n    return;\n  }\n\n  if (searchOnSearchArr.length > 0) {\n    searchOnSearchArr.map((news, index) => {\n      const publishedDate = moment(news.pub_date).format('YY/MM/YYYY');\n      let imgUrl = './images/desktop-no-news-601.png';\n      if (news.multimedia.length > 0) {\n        imgUrl = `http://www.nytimes.com/${news.multimedia[0].url}`;\n      }\n      const readMoreId = `${index}`;\n      createSeachCardMarkup(\n        news,\n        publishedDate,\n        readMoreId,\n        imgUrl,\n        homePageNews,\n        'beforeend'\n      );\n      onFavouritePageCardClick(\n        readMoreId,\n        news,\n        LOCAL_STORAGE_INPUT_SEARCH_READ_KEY\n      );\n    });\n  }\n\n  if (searchOnPopularArr.length > 0) {\n    searchOnPopularArr.map((news, index) => {\n      const publishedDate = moment(news.published_date).format('YY/MM/YYYY');\n      const readMoreId = `${index}`;\n\n      createPopularCardMarkup(\n        news,\n        publishedDate,\n        readMoreId,\n        homePageNews,\n        'beforeend'\n      );\n\n      onFavouritePageCardClick(\n        readMoreId,\n        news,\n        LOCAL_STORAGE_POPULAR_READ_KEY\n      );\n\n      picture.classList.add('visually-hidden');\n    });\n  }\n\n  input.value = '';\n}\n","import { addNewsToLocalStorage } from './addNewsToLocalStorage';\n\nexport function onFavouritePageCardClick(value, news, key) {\n  document\n    .querySelector(`[data-id = \"${value}\"]`)\n    .addEventListener('click', e => {\n      if (e.target.nodeName === 'A') {\n        addNewsToLocalStorage(news, key);\n      }\n    });\n}\n"],"names":["$8nrFW","parcelRequire","$2XNBT","$663bfc46fa7e8bdc$export$16aae63b3b9c9e27","value","news","key","document","querySelector","concat","addEventListener","e","target","nodeName","addNewsToLocalStorage","$28cb32b6a4cb5631$var$picture","$28cb32b6a4cb5631$var$homePageNews","$28cb32b6a4cb5631$var$parsedPopularArray","$28cb32b6a4cb5631$var$test","querySelectorAll","forEach","el","innerHTML","popularData","localStorage","getItem","$kN5pd","LOCAL_STORAGE_POPULAR_FAVOURITE_KEY","inputSearch","$aKAgX","LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY","index","$parcel$interopDefault","JSON","parse","findIndex","element","title","nextElementSibling","splice","length","setItem","stringify","$28cb32b6a4cb5631$var$createFavoritePageMarkup","removeItem","classList","remove","index1","headline","main","parsedArray","index2","index21","map","publishedDate","$jR9u2","published_date","format","readMoreId","$gzPrx","createPopularCardMarkup","LOCAL_STORAGE_POPULAR_READ_KEY","add","pub_date","imgUrl","multimedia","url","$aDOrX","createSeachCardMarkup","LOCAL_STORAGE_INPUT_SEARCH_READ_KEY","$28cb32b6a4cb5631$var$searchBtn","$28cb32b6a4cb5631$var$input","$28cb32b6a4cb5631$var$searchInFavorite","searchOnPopularArr","searchOnSearchArr","abstract","includes","push","code"],"version":3,"file":"favorite.24029087.js.map"}