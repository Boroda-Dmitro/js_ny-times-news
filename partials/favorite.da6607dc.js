function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){i[e]=t},t.parcelRequired7c6=r);var l=r("cxTnx"),a=r("5R7wT"),o=r("7Sa78"),_=r("jErh6"),s=r("atV3q"),c=(s=r("atV3q"),r("bfbNR"));c=r("bfbNR");const O=document.querySelector(".default-picture"),d=document.querySelector(".news__box");let A=[],E=[];function L(){const t=localStorage.getItem(s.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),n=localStorage.getItem(c.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY);null!==t||null!==n?(t&&(A=[...JSON.parse(t)],A.map(((t,n)=>{const i=e(l)(t.published_date).format("YY/MM/YYYY"),r=`${n}`;(0,a.createPopularCardMarkup)(t,i,r,d,"beforeend"),(0,o.onCardClick)(r,t,s.LOCAL_STORAGE_POPULAR_READ_KEY,s.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),O.classList.add("visually-hidden")}))),n&&(E=[...JSON.parse(n)],E.map(((t,n)=>{const i=e(l)(t.pub_date).format("YY/MM/YYYY");let r="./images/desktop-no-news-601.png";t.multimedia.length>0&&(r=`http://www.nytimes.com/${t.multimedia[0].url}`);const a=`${n}`;(0,_.createSeachCardMarkup)(t,i,a,r,d,"beforeend"),(0,o.onCardClick)(a,t,c.LOCAL_STORAGE_INPUT_SEARCH_READ_KEY,c.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY)})))):O.classList.remove("visually-hidden")}L(),function e(){document.querySelectorAll(".markup-unit__add-favorite").forEach((t=>{t.innerHTML='<p class="markup-unit__favorite-text">Remove from favorite</p>\n                    <svg class="markup-unit__favorite-icon markup-unit__favorite-icon--active" width="16" height="16" viewBox="0 0 32 32">\n                  <path d="M9.334 4c-3.682 0-6.668 2.954-6.668 6.6 0 2.942 1.168 9.926 12.652 16.986 0.194 0.12 0.43 0.191 0.682 0.191s0.488-0.071 0.688-0.194l-0.006 0.003c11.484-7.060 12.652-14.044 12.652-16.986 0-3.646-2.986-6.6-6.668-6.6-3.68 0-6.666 4-6.666 4s-2.986-4-6.666-4z"></path>\n</svg>',t.addEventListener("click",(n=>{const i=localStorage.getItem(s.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),r=localStorage.getItem(c.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY);if(i&&!r){A=[...JSON.parse(i)];const n=A.findIndex((e=>e.title===t.nextElementSibling.innerHTML));if(-1===n)return;if(A.splice(n,1),0!==A.length)return localStorage.setItem(s.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY,JSON.stringify(A)),d.innerHTML="",L(),e();localStorage.removeItem(s.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),d.innerHTML="",O.classList.remove("visually-hidden")}else if(r&&!i){A=[...JSON.parse(r)];const n=A.findIndex((e=>e.headline.main===t.nextElementSibling.innerHTML));if(-1===n)return;if(A.splice(n,1),0!==A.length)return localStorage.setItem(c.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY,JSON.stringify(A)),d.innerHTML="",L(),e();localStorage.removeItem(c.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY),d.innerHTML="",O.classList.remove("visually-hidden")}else if(i&&r){A=[...JSON.parse(i)];let n=[...JSON.parse(r)];const l=A.findIndex((e=>e.title===t.nextElementSibling.innerHTML));if(-1===l){const i=n.findIndex((e=>e.headline.main===t.nextElementSibling.innerHTML));return n.splice(i,1),0===n.length?(localStorage.removeItem(c.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY),d.innerHTML="",O.classList.remove("visually-hidden"),L(),e()):(localStorage.setItem(c.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY,JSON.stringify(n)),d.innerHTML="",L(),e())}return A.splice(l,1),0===A.length?(localStorage.removeItem(s.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),d.innerHTML="",O.classList.remove("visually-hidden"),L(),e()):(localStorage.setItem(s.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY,JSON.stringify(A)),d.innerHTML="",L(),e())}}))}))}();
//# sourceMappingURL=favorite.da6607dc.js.map
