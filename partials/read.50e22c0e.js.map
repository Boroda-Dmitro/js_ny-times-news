{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-02c44c884da2fa1b.js","src/js/createReadPageMarkup.js","src/js/createReadPageListMarkup.js","src/js/createPopularCardMarkupOnReadPage.js","src/js/createInputSearchCardMarkupOnReadPage.js","node_modules/@parcel/runtime-js/lib/runtime-87d984390624d45a.js","src/js/createMagic.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"hNoZM\\\":\\\"read.50e22c0e.js\\\",\\\"hWKnZ\\\":\\\"desktop-no-news-601.dd9b880e.png\\\",\\\"32wSe\\\":\\\"read.2b6ff013.js\\\"}\"));","import moment from 'moment';\nimport { createReadPageListMarkup } from './createReadPageListMarkup';\nimport { createPopularCardMarkupOnReadPage } from './createPopularCardMarkupOnReadPage';\nimport { createInputSearchCardMarkupOnReadPage } from './createInputSearchCardMarkupOnReadPage';\nimport { createMagic } from './createMagic';\nimport { LOCAL_STORAGE_POPULAR_READ_KEY } from './createHomePageNews';\nimport { LOCAL_STORAGE_INPUT_SEARCH_READ_KEY } from './createHomePageSeachingNews';\n\nconst picture = document.querySelector('.default-picture');\nconst accordion = document.querySelector('.accordion');\n\nlet parsedArray = [];\nlet datesArray = [];\n\ncreateReadPageMarkup();\ncreateMagic('accordion__label');\n\ndocument.querySelectorAll('.markup-unit__already-read').forEach(el => {\n  el.classList.remove('visually-hidden');\n  // el.style.fontWeight = 400;\n});\n\nfunction createReadPageMarkup() {\n  const popularData = localStorage.getItem(LOCAL_STORAGE_POPULAR_READ_KEY);\n  const inputSearchData = localStorage.getItem(\n    LOCAL_STORAGE_INPUT_SEARCH_READ_KEY\n  );\n\n  if (popularData === null && inputSearchData === null) {\n    picture.classList.remove('visually-hidden');\n    return;\n  } else if (popularData !== null && inputSearchData === null) {\n    parsedArray = [...JSON.parse(popularData)];\n\n    datesArray = parsedArray.map(element =>\n      moment(element.published_date).format('YY/MM/YYYY')\n    );\n\n    createReadPageListMarkup(datesArray, accordion);\n    createPopularCardMarkupOnReadPage(parsedArray);\n  } else if (inputSearchData !== null && popularData === null) {\n    parsedArray = [...JSON.parse(inputSearchData)];\n\n    datesArray = parsedArray.map(element =>\n      moment(element.pub_date).format('YY/MM/YYYY')\n    );\n\n    createReadPageListMarkup(datesArray, accordion);\n    createInputSearchCardMarkupOnReadPage(parsedArray);\n  } else if (inputSearchData !== null && popularData !== null) {\n    parsedArray = [...JSON.parse(popularData), ...JSON.parse(inputSearchData)];\n    let popularCardsArray = [];\n    let inputSearchCardsArray = [];\n\n    datesArray = parsedArray.map(element => {\n      if (element.pub_date) {\n        inputSearchCardsArray.push(element);\n        return moment(element.pub_date).format('YY/MM/YYYY');\n      } else if (element.published_date) {\n        popularCardsArray.push(element);\n        return moment(element.published_date).format('YY/MM/YYYY');\n      }\n    });\n\n    createReadPageListMarkup(datesArray, accordion);\n    createInputSearchCardMarkupOnReadPage(inputSearchCardsArray);\n    createPopularCardMarkupOnReadPage(popularCardsArray);\n  }\n}\n","export function createReadPageListMarkup(datesArray, targetElement) {\n  const uniqueDates = datesArray\n    .filter((date, index, array) => array.indexOf(date) === index)\n    .sort((firstElement, secondElement) =>\n      secondElement.localeCompare(firstElement)\n    );\n\n  const containerArrayMarkup = uniqueDates\n    .map(element => {\n      return `<div class=\"accordion__container\">\n                  <button class=\"accordion__label\">${element}</button>\n                  <ul class=\"accordion__content news__box news__box--accordion\"></ul>\n                </div>`;\n    })\n    .join('');\n  targetElement.innerHTML = containerArrayMarkup;\n}\n","import moment from 'moment';\nimport { createPopularCardMarkup } from './createPopularCardMarkup';\nimport { onCardClick } from './onCardClick';\nimport { LOCAL_STORAGE_POPULAR_READ_KEY } from './createHomePageNews';\nimport { LOCAL_STORAGE_POPULAR_FAVOURITE_KEY } from './createHomePageNews';\n\nexport function createPopularCardMarkupOnReadPage(parsedArray) {\n  const cardArrayMarkup = parsedArray.map((element, index) => {\n    const publishedDate = moment(element.published_date).format('YY/MM/YYYY');\n    const accordion__label = document.querySelectorAll('.accordion__label');\n    const readMoreId = `${index}`;\n\n    const review = [...accordion__label].find(\n      el => el.textContent === publishedDate\n    );\n\n    createPopularCardMarkup(\n      element,\n      publishedDate,\n      readMoreId,\n      review.nextElementSibling,\n      'afterbegin'\n    );\n\n    onCardClick(\n      readMoreId,\n      element,\n      LOCAL_STORAGE_POPULAR_READ_KEY,\n      LOCAL_STORAGE_POPULAR_FAVOURITE_KEY\n    );\n  });\n}\n","import moment from 'moment';\nimport { createSeachCardMarkup } from './createSeachCardMarkup';\nimport { onCardClick } from './onCardClick';\nimport { LOCAL_STORAGE_INPUT_SEARCH_READ_KEY } from './createHomePageSeachingNews';\nimport { LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY } from './createHomePageSeachingNews';\nimport img from '../images/desktop-no-news-601.png'\n\nexport function createInputSearchCardMarkupOnReadPage(parsedArray) {\n  const cardArrayMarkup = parsedArray.map((element, index) => {\n    const publishedDate = moment(element.pub_date).format('YY/MM/YYYY');\n    const accordion__label = document.querySelectorAll('.accordion__label');\n    const readMoreId = `${index}`;\n    let imgUrl = img;\n    if (element.multimedia.length > 0) {\n      imgUrl = `http://www.nytimes.com/${element.multimedia[0].url}`;\n    }\n    const review = [...accordion__label].find(\n      el => el.textContent === publishedDate\n    );\n\n    createSeachCardMarkup(\n      element,\n      publishedDate,\n      readMoreId,\n      imgUrl,\n      review.nextElementSibling,\n      'afterbegin'\n    );\n\n    onCardClick(\n      readMoreId,\n      element,\n      LOCAL_STORAGE_INPUT_SEARCH_READ_KEY,\n      LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY\n    );\n  });\n}\n","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"hWKnZ\")).toString();","export function createMagic(className) {\n  document.querySelectorAll(`.${className}`).forEach(el => {\n    el.addEventListener('click', event => {\n      let content = el.nextElementSibling;\n\n      el.parentNode.classList.toggle('active');\n\n      if (content.style.maxHeight) {\n        content.style.maxHeight = null;\n      } else {\n        content.style.maxHeight = content.scrollHeight + 'px';\n      }\n    });\n  });\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$cxTnx","$ceee0eeeaefd63fa$export$609d4c9d0e223e73","datesArray","targetElement","containerArrayMarkup","filter","date","index","array","indexOf","sort","firstElement","secondElement","localeCompare","map","element","join","innerHTML","$39037b65e5e61b2e$export$265a7fecb1a3636","parsedArray","publishedDate","$parcel$interopDefault","published_date","format","readMoreId","review","document","querySelectorAll","find","el","textContent","$5R7wT","createPopularCardMarkup","nextElementSibling","$7Sa78","onCardClick","$atV3q","LOCAL_STORAGE_POPULAR_READ_KEY","LOCAL_STORAGE_POPULAR_FAVOURITE_KEY","$b6cbbd3d1cf7502b$export$cc71b2b6ea70e4d3","pub_date","accordion__label","imgUrl","$d4ec117f884cd891$exports","multimedia","url","$jErh6","createSeachCardMarkup","$bfbNR","LOCAL_STORAGE_INPUT_SEARCH_READ_KEY","LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY","URL","resolve","import","meta","toString","$28d6a4f9b067c2b5$var$picture","querySelector","$28d6a4f9b067c2b5$var$accordion","$28d6a4f9b067c2b5$var$parsedArray","$28d6a4f9b067c2b5$var$datesArray","className","popularData","localStorage","getItem","inputSearchData","classList","remove","popularCardsArray","inputSearchCardsArray","push","$28d6a4f9b067c2b5$var$createReadPageMarkup","forEach","addEventListener","event","content","parentNode","toggle","style","maxHeight","scrollHeight"],"version":3,"file":"read.50e22c0e.js.map"}