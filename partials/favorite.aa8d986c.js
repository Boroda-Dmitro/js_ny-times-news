!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired7c6=r),r("iE7OH").register(JSON.parse('{"3PGjW":"favorite.aa8d986c.js","bLbsu":"image.a1e54c9b.png","1tUMT":"read.7d4697e4.js"}'));var i=r("8nrFW"),l=r("jR9u2"),o=r("gzPrx"),c=r("2XNBT");function d(e,t,n){document.querySelector('[data-id = "'.concat(e,'"]')).addEventListener("click",(function(e){"A"===e.target.nodeName&&(0,c.addNewsToLocalStorage)(t,n)}))}var u,s=r("aDOrX"),_=r("kN5pd"),m=(_=r("kN5pd"),r("aKAgX"));m=r("aKAgX");u=r("aNJCr").getBundleURL("3PGjW")+"../"+r("iE7OH").resolve("bLbsu");var E=document.querySelector(".default-picture"),A=document.querySelector(".news__box"),L=[];function f(){document.querySelectorAll(".markup-unit__add-favorite").forEach((function(t){t.innerHTML='<p class="markup-unit__favorite-text">Remove from favorite</p>\n                    <svg class="markup-unit__favorite-icon markup-unit__favorite-icon--active" width="16" height="16" viewBox="0 0 32 32">\n                  <path d="M9.334 4c-3.682 0-6.668 2.954-6.668 6.6 0 2.942 1.168 9.926 12.652 16.986 0.194 0.12 0.43 0.191 0.682 0.191s0.488-0.071 0.688-0.194l-0.006 0.003c11.484-7.060 12.652-14.044 12.652-16.986 0-3.646-2.986-6.6-6.668-6.6-3.68 0-6.666 4-6.666 4s-2.986-4-6.666-4z"></path>\n</svg>',t.addEventListener("click",(function(n){var a=localStorage.getItem(_.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),r=localStorage.getItem(m.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY);if(a&&!r){var l=(L=e(i)(JSON.parse(a))).findIndex((function(e){return e.title===t.nextElementSibling.innerHTML}));if(-1===l)return;if(L.splice(l,1),0!==L.length)return localStorage.setItem(_.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY,JSON.stringify(L)),A.innerHTML="",O(),f();localStorage.removeItem(_.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),A.innerHTML="",E.classList.remove("visually-hidden")}else if(r&&!a){var o=(L=e(i)(JSON.parse(r))).findIndex((function(e){return e.headline.main===t.nextElementSibling.innerHTML}));if(-1===o)return;if(L.splice(o,1),0!==L.length)return localStorage.setItem(m.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY,JSON.stringify(L)),A.innerHTML="",O(),f();localStorage.removeItem(m.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY),A.innerHTML="",E.classList.remove("visually-hidden")}else if(a&&r){L=e(i)(JSON.parse(a));var c=e(i)(JSON.parse(r)),d=L.findIndex((function(e){return e.title===t.nextElementSibling.innerHTML}));if(-1===d){var u=c.findIndex((function(e){return e.headline.main===t.nextElementSibling.innerHTML}));return c.splice(u,1),0===c.length?(localStorage.removeItem(m.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY),A.innerHTML="",E.classList.remove("visually-hidden"),O(),f()):(localStorage.setItem(m.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY,JSON.stringify(c)),A.innerHTML="",O(),f())}return L.splice(d,1),0===L.length?(localStorage.removeItem(_.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),A.innerHTML="",E.classList.remove("visually-hidden"),O(),f()):(localStorage.setItem(_.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY,JSON.stringify(L)),A.innerHTML="",O(),f())}}))}))}function O(){var t=localStorage.getItem(_.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),n=localStorage.getItem(m.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY);null!==t||null!==n?(t&&(L=e(i)(JSON.parse(t))).map((function(t,n){var a=e(l)(t.published_date).format("YY/MM/YYYY"),r="".concat(n),i=e(u),c="No text";0!==t.media.length&&(i="".concat(t.media[0]["media-metadata"][2].url),c="".concat(t.media[0].caption)),(0,o.createPopularCardMarkup)(t,a,r,A,"beforeend",i,c),d(r,t,_.LOCAL_STORAGE_POPULAR_READ_KEY),E.classList.add("visually-hidden")})),n&&e(i)(JSON.parse(n)).map((function(t,n){var a=e(l)(t.pub_date).format("YY/MM/YYYY"),r="./images/desktop-no-news-601.png";t.multimedia.length>0&&(r="http://www.nytimes.com/".concat(t.multimedia[0].url));var i="".concat(n);(0,s.createSeachCardMarkup)(t,a,i,r,A,"beforeend"),d(i,t,m.LOCAL_STORAGE_INPUT_SEARCH_READ_KEY),E.classList.add("visually-hidden")}))):E.classList.remove("visually-hidden")}O(),f(),document.querySelectorAll(".markup-unit__section").forEach((function(e){""===e.textContent&&(e.style.display="none")}));var S=document.querySelector(".search-button svg"),p=document.querySelector(".search-input");function v(){var t=localStorage.getItem(_.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),n=localStorage.getItem(m.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY),a=[],r=[];if(null!==t||null!==n){if(t&&(L=e(i)(JSON.parse(t))).map((function(e){e.abstract.includes(p.value)&&a.push(e)})),n&&e(i)(JSON.parse(n)).map((function(e){e.abstract.includes(p.value)&&r.push(e)})),!(a.length>0||r.length>0))return A.innerHTML="",void E.classList.remove("visually-hidden");A.innerHTML="",r.length>0&&r.map((function(t,n){var a=e(l)(t.pub_date).format("YY/MM/YYYY"),r="./images/desktop-no-news-601.png";t.multimedia.length>0&&(r="http://www.nytimes.com/".concat(t.multimedia[0].url));var i="".concat(n);(0,s.createSeachCardMarkup)(t,a,i,r,A,"beforeend"),d(i,t,m.LOCAL_STORAGE_INPUT_SEARCH_READ_KEY)})),a.length>0&&a.map((function(t,n){var a=e(l)(t.published_date).format("YY/MM/YYYY"),r="".concat(n),i=e(u),c="No text";0!==t.media.length&&(i="".concat(t.media[0]["media-metadata"][2].url),c="".concat(t.media[0].caption)),(0,o.createPopularCardMarkup)(t,a,r,A,"beforeend",i,c),d(r,t,_.LOCAL_STORAGE_POPULAR_READ_KEY),E.classList.add("visually-hidden")})),p.value=""}else E.classList.remove("visually-hidden")}S.addEventListener("click",v),document.addEventListener("keydown",(function(e){"Enter"===e.code&&(v(),f())}))}();
//# sourceMappingURL=favorite.aa8d986c.js.map
