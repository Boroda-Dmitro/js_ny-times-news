!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},n.parcelRequired7c6=i);var a=i("8nrFW"),l=i("jR9u2"),o=i("gzPrx"),_=i("iLqhe"),c=i("aDOrX"),s=i("kN5pd"),u=(s=i("kN5pd"),i("aKAgX")),O=(u=i("aKAgX"),document.querySelector(".default-picture")),d=document.querySelector(".news__box"),A=[];function E(){var n=localStorage.getItem(s.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),t=localStorage.getItem(u.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY);null!==n||null!==t?(n&&(A=e(a)(JSON.parse(n))).map((function(n,t){var r=e(l)(n.published_date).format("YY/MM/YYYY"),i="".concat(t);(0,o.createPopularCardMarkup)(n,r,i,d,"beforeend"),(0,_.onCardClick)(i,n,s.LOCAL_STORAGE_POPULAR_READ_KEY,s.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),O.classList.add("visually-hidden")})),t&&e(a)(JSON.parse(t)).map((function(n,t){var r=e(l)(n.pub_date).format("YY/MM/YYYY"),i="./images/desktop-no-news-601.png";n.multimedia.length>0&&(i="http://www.nytimes.com/".concat(n.multimedia[0].url));var a="".concat(t);(0,c.createSeachCardMarkup)(n,r,a,i,d,"beforeend"),(0,_.onCardClick)(a,n,u.LOCAL_STORAGE_INPUT_SEARCH_READ_KEY,u.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY)}))):O.classList.remove("visually-hidden")}E(),function n(){document.querySelectorAll(".markup-unit__add-favorite").forEach((function(t){t.innerHTML='<p class="markup-unit__favorite-text">Remove from favorite</p>\n                    <svg class="markup-unit__favorite-icon markup-unit__favorite-icon--active" width="16" height="16" viewBox="0 0 32 32">\n                  <path d="M9.334 4c-3.682 0-6.668 2.954-6.668 6.6 0 2.942 1.168 9.926 12.652 16.986 0.194 0.12 0.43 0.191 0.682 0.191s0.488-0.071 0.688-0.194l-0.006 0.003c11.484-7.060 12.652-14.044 12.652-16.986 0-3.646-2.986-6.6-6.668-6.6-3.68 0-6.666 4-6.666 4s-2.986-4-6.666-4z"></path>\n</svg>',t.addEventListener("click",(function(r){var i=localStorage.getItem(s.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),l=localStorage.getItem(u.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY);if(i&&!l){var o=(A=e(a)(JSON.parse(i))).findIndex((function(e){return e.title===t.nextElementSibling.innerHTML}));if(-1===o)return;if(A.splice(o,1),0!==A.length)return localStorage.setItem(s.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY,JSON.stringify(A)),d.innerHTML="",E(),n();localStorage.removeItem(s.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),d.innerHTML="",O.classList.remove("visually-hidden")}else if(l&&!i){var _=(A=e(a)(JSON.parse(l))).findIndex((function(e){return e.headline.main===t.nextElementSibling.innerHTML}));if(-1===_)return;if(A.splice(_,1),0!==A.length)return localStorage.setItem(u.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY,JSON.stringify(A)),d.innerHTML="",E(),n();localStorage.removeItem(u.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY),d.innerHTML="",O.classList.remove("visually-hidden")}else if(i&&l){A=e(a)(JSON.parse(i));var c=e(a)(JSON.parse(l)),L=A.findIndex((function(e){return e.title===t.nextElementSibling.innerHTML}));if(-1===L){var f=c.findIndex((function(e){return e.headline.main===t.nextElementSibling.innerHTML}));return c.splice(f,1),0===c.length?(localStorage.removeItem(u.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY),d.innerHTML="",O.classList.remove("visually-hidden"),E(),n()):(localStorage.setItem(u.LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY,JSON.stringify(c)),d.innerHTML="",E(),n())}return A.splice(L,1),0===A.length?(localStorage.removeItem(s.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY),d.innerHTML="",O.classList.remove("visually-hidden"),E(),n()):(localStorage.setItem(s.LOCAL_STORAGE_POPULAR_FAVOURITE_KEY,JSON.stringify(A)),d.innerHTML="",E(),n())}}))}))}()}();
//# sourceMappingURL=favorite.309bc8d9.js.map
