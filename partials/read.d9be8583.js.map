{"mappings":"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","sources":["src/js/createReadPageMarkup.js","src/js/createReadPageListMarkup.js","src/js/createPopularCardMarkupOnReadPage.js","src/js/createInputSearchCardMarkupOnReadPage.js","src/js/createMagic.js"],"sourcesContent":["import moment from 'moment';\nimport { createReadPageListMarkup } from './createReadPageListMarkup';\nimport { createPopularCardMarkupOnReadPage } from './createPopularCardMarkupOnReadPage';\nimport { createInputSearchCardMarkupOnReadPage } from './createInputSearchCardMarkupOnReadPage';\nimport { createMagic } from './createMagic';\nimport { LOCAL_STORAGE_POPULAR_READ_KEY } from './createHomePageNews';\nimport { LOCAL_STORAGE_INPUT_SEARCH_READ_KEY } from './createHomePageSeachingNews';\n\nconst picture = document.querySelector('.default-picture');\nconst accordion = document.querySelector('.accordion');\n\nlet parsedArray = [];\nlet datesArray = [];\n\ncreateReadPageMarkup();\ncreateMagic('accordion__label');\n\ndocument.querySelectorAll('.markup-unit__already-read').forEach(el => {\n  el.classList.remove('visually-hidden');\n  // el.style.fontWeight = 400;\n});\n\nfunction createReadPageMarkup() {\n  const popularData = localStorage.getItem(LOCAL_STORAGE_POPULAR_READ_KEY);\n  const inputSearchData = localStorage.getItem(\n    LOCAL_STORAGE_INPUT_SEARCH_READ_KEY\n  );\n\n  if (popularData === null && inputSearchData === null) {\n    picture.classList.remove('visually-hidden');\n    return;\n  } else if (popularData !== null && inputSearchData === null) {\n    parsedArray = [...JSON.parse(popularData)];\n\n    datesArray = parsedArray.map(element =>\n      moment(element.published_date).format('YY/MM/YYYY')\n    );\n\n    createReadPageListMarkup(datesArray, accordion);\n    createPopularCardMarkupOnReadPage(parsedArray);\n  } else if (inputSearchData !== null && popularData === null) {\n    parsedArray = [...JSON.parse(inputSearchData)];\n\n    datesArray = parsedArray.map(element =>\n      moment(element.pub_date).format('YY/MM/YYYY')\n    );\n\n    createReadPageListMarkup(datesArray, accordion);\n    createInputSearchCardMarkupOnReadPage(parsedArray);\n  } else if (inputSearchData !== null && popularData !== null) {\n    parsedArray = [...JSON.parse(popularData), ...JSON.parse(inputSearchData)];\n    let popularCardsArray = [];\n    let inputSearchCardsArray = [];\n\n    datesArray = parsedArray.map(element => {\n      if (element.pub_date) {\n        inputSearchCardsArray.push(element);\n        return moment(element.pub_date).format('YY/MM/YYYY');\n      } else if (element.published_date) {\n        popularCardsArray.push(element);\n        return moment(element.published_date).format('YY/MM/YYYY');\n      }\n    });\n\n    createReadPageListMarkup(datesArray, accordion);\n    createInputSearchCardMarkupOnReadPage(inputSearchCardsArray);\n    createPopularCardMarkupOnReadPage(popularCardsArray);\n  }\n}\n","export function createReadPageListMarkup(datesArray, targetElement) {\n  const uniqueDates = datesArray\n    .filter((date, index, array) => array.indexOf(date) === index)\n    .sort((firstElement, secondElement) =>\n      secondElement.localeCompare(firstElement)\n    );\n\n  const containerArrayMarkup = uniqueDates\n    .map(element => {\n      return `<div class=\"accordion__container\">\n                  <button class=\"accordion__label\">${element}</button>\n                  <ul class=\"accordion__content news__box news__box--accordion\"></ul>\n                </div>`;\n    })\n    .join('');\n  targetElement.innerHTML = containerArrayMarkup;\n}\n","import moment from 'moment';\nimport { createPopularCardMarkup } from './createPopularCardMarkup';\nimport { onCardClick } from './onCardClick';\nimport { LOCAL_STORAGE_POPULAR_READ_KEY } from './createHomePageNews';\nimport { LOCAL_STORAGE_POPULAR_FAVOURITE_KEY } from './createHomePageNews';\n\nexport function createPopularCardMarkupOnReadPage(parsedArray) {\n  const cardArrayMarkup = parsedArray.map((element, index) => {\n    const publishedDate = moment(element.published_date).format('YY/MM/YYYY');\n    const accordion__label = document.querySelectorAll('.accordion__label');\n    const readMoreId = `${index}`;\n\n    review = [...accordion__label].find(el => el.textContent === publishedDate);\n\n    createPopularCardMarkup(\n      element,\n      publishedDate,\n      readMoreId,\n      review.nextElementSibling,\n      'afterbegin'\n    );\n\n    onCardClick(\n      readMoreId,\n      element,\n      LOCAL_STORAGE_POPULAR_READ_KEY,\n      LOCAL_STORAGE_POPULAR_FAVOURITE_KEY\n    );\n  });\n}\n","import moment from 'moment';\nimport { createSeachCardMarkup } from './createSeachCardMarkup';\nimport { onCardClick } from './onCardClick';\nimport { LOCAL_STORAGE_INPUT_SEARCH_READ_KEY } from './createHomePageSeachingNews';\nimport { LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY } from './createHomePageSeachingNews';\n\nexport function createInputSearchCardMarkupOnReadPage(parsedArray) {\n  const cardArrayMarkup = parsedArray.map((element, index) => {\n    const publishedDate = moment(element.published_date).format('YY/MM/YYYY');\n    const accordion__label = document.querySelectorAll('.accordion__label');\n    const readMoreId = `${index}`;\n    let imgUrl = './images/desktop-no-news-601.png';\n    if (element.multimedia.length > 0) {\n      imgUrl = `http://www.nytimes.com/${element.multimedia[0].url}`;\n    }\n    review = [...accordion__label].find(el => el.textContent === publishedDate);\n\n    createSeachCardMarkup(\n      element,\n      publishedDate,\n      readMoreId,\n      imgUrl,\n      review.nextElementSibling,\n      'afterbegin'\n    );\n\n    onCardClick(\n      readMoreId,\n      element,\n      LOCAL_STORAGE_INPUT_SEARCH_READ_KEY,\n      LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY\n    );\n  });\n}\n","export function createMagic(className) {\n  document.querySelectorAll(`.${className}`).forEach(el => {\n    el.addEventListener('click', event => {\n      let content = el.nextElementSibling;\n\n      el.parentNode.classList.toggle('active');\n\n      if (content.style.maxHeight) {\n        content.style.maxHeight = null;\n      } else {\n        content.style.maxHeight = content.scrollHeight + 'px';\n      }\n    });\n  });\n}\n"],"names":["$8nrFW","parcelRequire","$fa94e1cc510eecb7$export$609d4c9d0e223e73","datesArray","targetElement","containerArrayMarkup","filter","date","index","array","indexOf","sort","firstElement","secondElement","localeCompare","map","element","concat","join","innerHTML","$789b5bfbf9b9890f$export$265a7fecb1a3636","parsedArray","publishedDate","$parcel$interopDefault","$jR9u2","published_date","format","accordion__label","document","querySelectorAll","readMoreId","review","find","el","textContent","$gzPrx","createPopularCardMarkup","nextElementSibling","$iLqhe","onCardClick","$kN5pd","LOCAL_STORAGE_POPULAR_READ_KEY","LOCAL_STORAGE_POPULAR_FAVOURITE_KEY","$addb0ed170d34890$export$cc71b2b6ea70e4d3","imgUrl","multimedia","length","url","$aDOrX","createSeachCardMarkup","$aKAgX","LOCAL_STORAGE_INPUT_SEARCH_READ_KEY","LOCAL_STORAGE_INPUT_SEARCH_FAVOURITE_KEY","className","$4a2b0a5c20025c95$var$picture","querySelector","$4a2b0a5c20025c95$var$accordion","$4a2b0a5c20025c95$var$parsedArray","popularData","localStorage","getItem","inputSearchData","classList","remove","JSON","parse","pub_date","popularCardsArray","inputSearchCardsArray","push","$4a2b0a5c20025c95$var$createReadPageMarkup","forEach","addEventListener","event","content","parentNode","toggle","style","maxHeight","scrollHeight"],"version":3,"file":"read.d9be8583.js.map"}