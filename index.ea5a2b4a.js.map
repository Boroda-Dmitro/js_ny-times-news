{"mappings":"AAAA,IAAMA,oBAAsBC,SAASC,cAAc,eAC7CC,eAAiBF,SAASC,cAAc,cACxCE,eAAiBH,SAASC,cAAc,cACxCG,SAAWC,OAAOC,YAAc,IAChCC,SAAWF,OAAOC,WAAa,KAE/BE,UAAY,CAChBC,QAAS,EACTC,gBAAiB,EACjBC,WAAY,GASd,SAASC,sBAAuBC,GAC9B,IAAMC,EAAMD,EAAEE,OAEd,GAAID,EAAIE,QAAQC,KAAM,CACpB,IAAMC,EAAaC,SAASL,EAAIE,QAAQC,KAAM,IAE/CT,UAAUC,QAAUS,EACnBE,iBAAiBZ,WACjBa,sBACAC,qB,EAGJ,SAASC,eAAeL,GACtB,IACIM,EADEC,EAAWzB,SAAS0B,iBAAiB,YAGrCC,GAAcT,EAAa,IADhCM,EAAkBpB,SAAW,EAAIG,SAAW,EAAI,GAE3CqB,EAAWD,EAAaH,EAAkB,EAC1CK,EAAgBJ,EAASK,OAEzBnB,EAAaoB,KAAKC,KAAKH,EAAgBL,GAE7CC,EAASQ,SAAQ,SAACC,EAASC,GACrBA,GAASR,GAAcQ,GAASP,GAClCM,EAAQE,MAAMC,QAAU,QACxB7B,UAAUG,WAAaA,GAEvBuB,EAAQE,MAAMC,QAAU,M,IAK9B,SAASjB,mBAcP,IAbA,IAAQT,EAAgDH,UAAhDG,WAAYF,EAAoCD,UAApCC,QAAS6B,EAA2B9B,UAA3BE,gBACzB6B,EAAQD,EAAQ,EAChBE,EAAS,GACTC,EAAgB,GACdC,EAAO,sDAEVC,EAAgB,EAEbC,EAAqBnC,EAAU6B,EAC/BO,EAAsBpC,EAAU6B,EAElCQ,EAAS,GAEJC,EAAM,EAAGA,GAAOpC,EAAYoC,IACnCD,EAASC,IAAQtC,EAAU,SAAW,GAElCE,GAAc,EAAI4B,EAAQ,EACxBK,EAAqB,GAAKC,EAAsBlC,EAAa,EAAI,EAE/DoC,GAAOH,GAAsBG,GAAOF,IACtCJ,GAAiBO,WAAWD,EAAKD,IAKjCrC,EAAW8B,GAASQ,GAAOR,GAC1B9B,EAAUE,EAAa4B,GAASQ,GAAOpC,EAAa4B,EAAQ,GAC7DQ,IAAQpC,GACA,IAARoC,EAEAP,GAAUQ,WAAWD,EAAKD,GAGJ,MADtBH,IACyBH,GAAUE,GAIvCF,GAAUQ,WAAWD,EAAKD,GAI7B/C,oBAAoBkD,UADlBR,EAC8BO,WAAW,GAAKN,EAAMD,EAAgBC,EAAMM,WAAWrC,GAEtD6B,EAEjCjB,eAAed,GAChBY,sBACAC,qB,CAGF,SAAS0B,WAAWb,G,IAAOW,EAAAI,UAAApB,OAAA,YAAAoB,UAAA,GAAWA,UAAA,GAAF,GAClC,MAAO,sBAA4CC,OAAtBL,EAAO,iBACAK,OADehB,EAAM,4CACfgB,OAANhB,EAAM,kB,CAU5C,SAASiB,aAAaC,GAChBA,EAAQC,UAAUC,SAAS,cAC7B/C,UAAUC,SAAS,EACnBY,sBACAnB,eAAesD,UAAW,GACjBH,EAAQC,UAAUC,SAAS,eACpC/C,UAAUC,SAAS,EACnBa,sBACAnB,eAAeqD,UAAW,GAE5BpC,kB,CAEF,SAASC,sBACPlB,eAAeqD,SAAiC,IAAtBhD,UAAUC,O,CAEtC,SAASa,sBACPpB,eAAesD,SAAWhD,UAAUC,UAAYD,UAAUG,U,CArH5DS,mBAEArB,oBAAoB0D,iBAAiB,QAAS7C,uBAC9CV,eAAeuD,iBAAiB,QAASnC,qBACzCnB,eAAesD,iBAAiB,QAASpC,qBA2FzCrB,SACGC,cAAc,mBACdwD,iBAAiB,SAAS,SAAU5C,GACnCuC,aAAavC,EAAEE,O","sources":["src/js/pagination.js"],"sourcesContent":["const paginationContainer = document.querySelector('#pagination');\nconst nextPageButton = document.querySelector('.next-page');\nconst prevPageButton = document.querySelector('.prev-page');\nconst isMobile = window.innerWidth <= 767;\nconst isTablet = window.innerWidth < 1200;\n\nconst valuePage = {\n  curPage: 1,\n  numLinksTwoSide: 1,\n  totalPages: 5,\n};\n\nrenderPagination();\n\npaginationContainer.addEventListener('click', handlePageNumberClick);\nnextPageButton.addEventListener('click', handleNextPageClick);\nprevPageButton.addEventListener('click', handlePrevPageClick);\n\nfunction handlePageNumberClick (e) {\n  const ele = e.target;\n\n  if (ele.dataset.page) {\n    const pageNumber = parseInt(ele.dataset.page, 10);\n\n   valuePage.curPage = pageNumber;\n    renderPagination(valuePage);\n    handlePrevPageClick();\n    handleNextPageClick();\n  }\n}\nfunction renderArticles(pageNumber) {\n  const articles = document.querySelectorAll('.article');\n  let articlesPerPage = 0;\n   articlesPerPage = isMobile ? 5 : isTablet ? 8 : 9;\n  const startIndex = (pageNumber - 1) * articlesPerPage;\n  const endIndex = startIndex + articlesPerPage - 1;\n  const totalArticles = articles.length;\n \n  const totalPages = Math.ceil(totalArticles / articlesPerPage);\n   \n  articles.forEach((article, index) => {\n    if (index >= startIndex && index <= endIndex) {\n      article.style.display = 'block';\n      valuePage.totalPages = totalPages;\n    } else {\n      article.style.display = 'none';\n    }\n  })\n}\n\nfunction renderPagination() {\n  const { totalPages, curPage, numLinksTwoSide: delta } = valuePage;\n  let range = delta + 4;\n  let render = '';\n  let renderTwoSide = '';\n  const dot = `<li class=\"pg-item\"><a class=\"pg-link\">...</a></li>`;\n\n let countTruncate = 0; \n\n  const numberTruncateLeft = curPage - delta;\n  const numberTruncateRight = curPage + delta;\n\n  let active = '';\n\n  for (let pos = 1; pos <= totalPages; pos++) {\n    active = pos === curPage ? 'active' : '';\n\n    if (totalPages >= 2 * range - 1) {\n      if (numberTruncateLeft > 3 && numberTruncateRight < totalPages - 3 + 1) {\n\n        if (pos >= numberTruncateLeft && pos <= numberTruncateRight) {\n          renderTwoSide += renderPage(pos, active);\n        }\n      } else {\n\n        if (\n          (curPage < range && pos <= range) ||\n          (curPage > totalPages - range && pos >= totalPages - range + 1) ||\n          pos === totalPages ||\n          pos === 1\n        ) {\n          render += renderPage(pos, active);\n        } else {\n          countTruncate++;\n          if (countTruncate === 1) render += dot;\n        }\n      }\n    } else {\n      render += renderPage(pos, active);\n    }\n  }\n if (renderTwoSide) {\n   paginationContainer.innerHTML = renderPage(1) + dot + renderTwoSide + dot + renderPage(totalPages);\n  } else {\n    paginationContainer.innerHTML = render;\n  }\n   renderArticles(curPage);\n  handlePrevPageClick();\n  handleNextPageClick();\n}\n  \nfunction renderPage(index, active = '') {\n  return `<li class=\"pg-item ${active}\" data-page=\"${index}\">\n        <a class=\"pg-link\" href=\"#\">${index}</a>\n    </li>`;\n}\n\ndocument\n  .querySelector('.page-container')\n  .addEventListener('click', function (e) {\n    handleButton(e.target);\n  });\n\nfunction handleButton(element) {\n  if (element.classList.contains('prev-page')) {\n    valuePage.curPage-=1;\n    handlePrevPageClick();\n    nextPageButton.disabled = false;\n  } else if (element.classList.contains('next-page')) {\n    valuePage.curPage+=1;\n    handleNextPageClick();\n    prevPageButton.disabled = false;\n  }\n  renderPagination();\n}\nfunction handlePrevPageClick() {\n  prevPageButton.disabled = valuePage.curPage === 1 ? true : false;\n}\nfunction handleNextPageClick() {\n  nextPageButton.disabled = valuePage.curPage === valuePage.totalPages ? true : false;\n}\n\n"],"names":["paginationContainer","document","querySelector","nextPageButton","prevPageButton","isMobile","window","innerWidth","isTablet","valuePage","curPage","numLinksTwoSide","totalPages","handlePageNumberClick","e","ele","target","dataset","page","pageNumber","parseInt","renderPagination","handlePrevPageClick","handleNextPageClick","renderArticles","articlesPerPage","articles","querySelectorAll","startIndex","endIndex","totalArticles","length","Math","ceil","forEach","article","index","style","display","delta","range","render","renderTwoSide","dot","countTruncate","numberTruncateLeft","numberTruncateRight","active","pos","renderPage","innerHTML","arguments","concat","handleButton","element","classList","contains","disabled","addEventListener"],"version":3,"file":"index.ea5a2b4a.js.map"}